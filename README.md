# Projet – Tests de pénétration

## Description
Ce projet a pour but de réaliser des tests de pénétration sur une machine virtuelle Metasploitable 2. Le but est de trouver des failles de sécurité sur cette machine et de les exploiter. Ce projet a été réalisé dans le cadre du cours de *Sécurité et réseaux* du CNAM Grand Est dispensé par M. Jean-Marc MULLER.

> Ce projet utilise Docker afin de faciliter l'installation. Il est donc nécessaire d'avoir Docker et Docker Compose installés sur votre machine.

## Utilisation

### Kali Linux et Metasploitable 2

#### Lancer les conteneurs

Lancer la commande suivante pour démarrer les conteneurs Docker :

```bash
docker-compose up -d --build
```

> Si le build ne passe pas, relancez-le. Il se peut que vous rencontriez des timeouts lors de la récupération des paquets.

Cela démarrera :
- L'attaquant : Un conteneur Kali Linux avec les outils de test de pénétration installés (Nmap, Metasploit Framework, Armitage, etc.)
- La victime : Un conteneur Metasploitable 2, une machine virtuelle vulnérable utilisée pour les tests de pénétration
- Une base de données PostgreSQL pour Metasploit
- Un Adminer pour inspecter et gérer la base de données. Pour y accéder, ouvrez votre navigateur et allez à l'adresse http://localhost:8080. Utilisez les informations suivantes pour vous connecter :
  - Système : `PostgreSQL`
  - Serveur : `postgres`
  - Utilisateur : `pentest`
  - Mot de passe : `pentest`
  - Base de données : `pentest`

#### Accéder aux conteneurs

Pour accéder à un conteneur, exécutez la commande suivante :

```bash
docker exec -it <nom du conteneur> bash
```

Par exemple, pour accéder au conteneur Kali Linux, exécutez la commande suivante :

```bash
docker exec -it attacker bash
```

#### Utiliser Metasploit

Depuis le conteneur Kali Linux, vous pouvez utiliser Metasploit pour réaliser des tests de pénétration. Pour lancer Metasploit, exécutez la commande suivante :

```bash
msfconsole
```

Un script d'automatisation est également disponible. Pour lancer le script, exécutez la commande suivante depuis le conteneur Kali Linux :

```bash
msfconsole -r /myautoexploit.rc
```

#### Arrêter les conteneurs

Pour arrêter les conteneurs, exécutez la commande suivante :

```bash
docker-compose down
```

### OpenVAS

#### Lancer OpenVAS

Ce projet utilise les conteneurs Docker fournis par la communauté d'OpenVAS. Voir https://greenbone.github.io/docs/latest/22.4/container/index.html#docker-compose-file pour plus d'informations.

Pour lancer OpenVAS, exécutez la commande suivante :

```bash
docker-compose --profile openvas up -d
```

#### Accéder à OpenVAS

Pour accéder à OpenVAS, ouvrez votre navigateur et allez à l'adresse http://localhost:9392. Utilisez les informations suivantes pour vous connecter :
- Nom d'utilisateur : `admin`
- Mot de passe : `admin`

#### Arrêter OpenVAS

Pour arrêter OpenVAS, exécutez la commande suivante :

```bash
docker-compose --profile openvas down
```

## Auteurs
- [Samy MOSA](https://github.com/samymsa)
